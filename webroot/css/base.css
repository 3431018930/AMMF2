/**
 * 基础样式和变量定义
 * 包含颜色变量、排版和基础元素样式
 */

/* 基础变量 */
:root {
  /* 卡片和元素圆角 */
  --card-border-radius: 16px;
  /* 调整为更大的圆角 */
  --button-border-radius: 20px;

  /* 阴影 */
  --md-sys-elevation-level1: 0 1px 2px rgba(0, 0, 0, 0.3), 0 1px 3px 1px rgba(0, 0, 0, 0.15);
  --md-sys-elevation-level2: 0 1px 2px rgba(0, 0, 0, 0.3), 0 2px 6px 2px rgba(0, 0, 0, 0.15);
  --md-sys-elevation-level3: 0 4px 8px 3px rgba(0, 0, 0, 0.15), 0 1px 3px rgba(0, 0, 0, 0.3);

  /* 状态层不透明度 */
  --md-sys-state-hover-opacity: 0.08;
  --md-sys-state-focus-opacity: 0.12;
  --md-sys-state-pressed-opacity: 0.12;
  --md-sys-state-dragged-opacity: 0.16;

  /* 间距变量 - 添加额外大间距 */
  --spacing-xs: 4px;
  --spacing-sm: 8px;
  --spacing-md: 16px;
  --spacing-lg: 24px;
  --spacing-xl: 32px;
  /* 新增 */

  /* 字体大小 */
  --md-sys-typescale-display-large-size: 57px;
  /* 添加 */
  --md-sys-typescale-display-medium-size: 45px;
  /* 添加 */
  --md-sys-typescale-display-small-size: 36px;
  /* 添加 */
  --md-sys-typescale-headline-large-size: 32px;
  /* 添加 */
  --md-sys-typescale-headline-medium-size: 28px;
  /* 添加 */
  --md-sys-typescale-headline-small-size: 24px;
  /* 添加 */
  --md-sys-typescale-title-large-size: 22px;
  /* 添加 */
  --md-sys-typescale-title-medium-size: 16px;
  /* 添加 */
  --md-sys-typescale-title-small-size: 14px;
  /* 添加 */
  --md-sys-typescale-body-large-size: 16px;
  --md-sys-typescale-body-medium-size: 14px;
  --md-sys-typescale-body-small-size: 12px;
  --md-sys-typescale-label-large-size: 14px;
  --md-sys-typescale-label-medium-size: 12px;
  --md-sys-typescale-label-small-size: 11px;

  /* 字体家族 - 新增 */
  --md-sys-typescale-font-family-base: 'Roboto', 'Noto Sans SC', 'PingFang SC', 'Microsoft YaHei', sans-serif;
  --md-sys-typescale-font-family-brand: 'Google Sans', 'Noto Sans SC', 'PingFang SC', 'Microsoft YaHei', sans-serif;
  --md-sys-typescale-font-family-monospace: 'Roboto Mono', 'Noto Sans Mono CJK SC', monospace;
  
  /* 字体粗细 - 调整为更符合MD3的值 */
  --md-sys-typescale-weight-regular: 400;    /* 从300改为400 */
  --md-sys-typescale-weight-medium: 500;     /* 从400改为500 */
  --md-sys-typescale-weight-bold: 700;       /* 保持不变 */
  /* 形状 - 添加 */
  --md-sys-shape-corner-extra-small: 4px;
  --md-sys-shape-corner-small: 8px;
  --md-sys-shape-corner-medium: 12px;
  --md-sys-shape-corner-large: 16px;
  --md-sys-shape-corner-extra-large: 28px;

  /* 表面色级别 */
  --md-surface-1: rgba(var(--md-primary-rgb), 0.05);
  --md-surface-2: rgba(var(--md-primary-rgb), 0.08);
  --md-surface-3: rgba(var(--md-primary-rgb), 0.11);
  --md-surface-4: rgba(var(--md-primary-rgb), 0.12);
  /* 添加 */
  --md-surface-5: rgba(var(--md-primary-rgb), 0.14);
  /* 添加 */

  /* 布局变量 */
  --header-height: 64px;
  --nav-height: 80px;
  --nav-width: 80px;  /* 新增侧栏宽度变量 */
  --header-with-spacing: calc(var(--header-height) + var(--spacing-sm));
  --nav-bottom-position: calc(var(--nav-height) + var(--spacing-md));
}

/* 浅色主题 */
/* 明色主题 (基于紫色和青色的和谐组合) */
.light-theme {
  /* 主色系 (紫色) */
  --md-primary: #6750A4;
  --md-primary-rgb: 103, 80, 164;
  --md-onPrimary: #FFFFFF;
  --md-onPrimary-rgb: 255, 255, 255;
  --md-primaryContainer: #E9DDFF;
  --md-primaryContainer-rgb: 233, 221, 255;
  --md-onPrimaryContainer: #22005D;
  --md-onPrimaryContainer-rgb: 34, 0, 93;
  
  /* 次要色系 (青色) */
  --md-secondary: #4A6367;
  --md-secondary-rgb: 74, 99, 103;
  --md-onSecondary: #FFFFFF;
  --md-onSecondary-rgb: 255, 255, 255;
  --md-secondaryContainer: #CCE8ED;
  --md-secondaryContainer-rgb: 204, 232, 237;
  --md-onSecondaryContainer: #051F23;
  --md-onSecondaryContainer-rgb: 5, 31, 35;
  
  /* 中性色系 */
  --md-onSurface: #1C1B1E;
  --md-onSurface-rgb: 28, 27, 30;
  --md-onSurfaceVariant: #49454F;
  --md-onSurfaceVariant-rgb: 73, 69, 79;

  /* 第三色系 (珊瑚粉) */
  --md-tertiary: #9C4146;
  --md-onTertiary: #FFFFFF;
  --md-tertiaryContainer: #FFDAD9;
  --md-onTertiaryContainer: #41000B;

  /* 中性色系 */
  --md-neutral: #5F5C62;
  --md-neutralVariant: #5E5860;

  /* 背景 & 表面 */
  --md-background: #FFFBFF;
  --md-onBackground: #1C1B1E;
  --md-surface: #FFFBFE;
  --md-onSurface: #1C1B1E;
  --md-surfaceVariant: #E7E0EB;
  --md-onSurfaceVariant: #49454F;

  /* 轮廓 */
  --md-outline: #79747E;
  --md-outlineVariant: #CAC4D0;

  /* 阴影 & 高程 */
  --md-shadow: #000000;
  --md-elevation-1: 0px 1px 3px rgba(0, 0, 0, 0.1);
  --md-elevation-2: 0px 2px 6px rgba(0, 0, 0, 0.1);

  /* 状态层 */
  --md-hover-opacity: 0.08;
  --md-focus-opacity: 0.12;
  --md-pressed-opacity: 0.16;
  --md-surface-rgb: 255, 251, 254; 
}

/* 暗色主题 (基于深蓝和青绿组合) */
.dark-theme {
  /* 主色系 (深蓝) */
  --md-primary: #B5C4FF;
  --md-primary-rgb: 181, 196, 255;
  --md-onPrimary: #002C7A;
  --md-onPrimary-rgb: 0, 44, 122;
  --md-primaryContainer: #1A43A5;
  --md-primaryContainer-rgb: 26, 67, 165;
  --md-onPrimaryContainer: #DCE1FF;
  --md-onPrimaryContainer-rgb: 220, 225, 255;

  /* 次要色系 (青绿) */
  --md-secondary: #85D0D6;
  --md-onSecondary: #00363B;
  --md-secondaryContainer: #004F55;
  --md-onSecondaryContainer: #A3EFF5;

  /* 第三色系 (浅珊瑚) */
  --md-tertiary: #FFB3B0;
  --md-onTertiary: #680017;
  --md-tertiaryContainer: #8B2B2F;
  --md-onTertiaryContainer: #FFDAD7;

  /* 中性色系 */
  --md-neutral: #C6C5CA;
  --md-neutralVariant: #C5C2C9;

  /* 背景 & 表面 */
  --md-background: #1B1B1F;
  --md-onBackground: #E4E2E6;
  --md-surface: #1F1F23;
  --md-onSurface: #E4E2E6;
  --md-surfaceVariant: #45464F;
  --md-onSurfaceVariant: #C5C2C9;

  /* 轮廓 */
  --md-outline: #8F9099;
  --md-outlineVariant: #444746;

  /* 阴影 & 高程 */
  --md-shadow: #000000;
  --md-elevation-1: 0px 2px 4px rgba(0, 0, 0, 0.3);
  --md-elevation-2: 0px 4px 8px rgba(0, 0, 0, 0.3);

  /* 状态层 */
  --md-hover-opacity: 0.15;
  --md-focus-opacity: 0.2;
  --md-pressed-opacity: 0.25;
  /* 新增导航覆盖层基础色 */
  --md-nav-overlay: rgba(174, 186, 230, 0.16);
  --md-surface-rgb: 31, 31, 35;
}

/* 通用颜色 (两种主题共用) */
.light-theme,
.dark-theme {
  /* 错误色保持规范标准 */
  --md-error: #FFB4AB;
  --md-onError: #690005;
  --md-errorContainer: #93000A;
  --md-onErrorContainer: #FFDAD6;

  /* 成功色 */
  --md-success: #66BB6A;
  --md-onSuccess: #003906;
  --md-successContainer: #00520D;
  --md-onSuccessContainer: #84F990;

  /* 警告色 */
  --md-warning: #FFB95D;
  --md-onWarning: #462A00;
  --md-warningContainer: #643D00;
  --md-onWarningContainer: #FFDDB6;

  /* 卡片样式 */
  --card-background: var(--md-surface);
  --card-elevation: var(--md-elevation-1);

  /* 涟漪效果 */
  --md-ripple-color: rgba(var(--md-primary-rgb), 0.1);
}

body {
  font-family: var(--md-sys-typescale-font-family-base);
  margin: 0;
  padding: 0;
  background-color: var(--md-background);
  color: var(--md-onBackground);
  min-height: 100vh;
  overflow-y: auto;
  overflow-x: hidden;
  overscroll-behavior: none;
  width: 100%;
  box-sizing: border-box;
  /* 增加字体渲染优化 */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
}

*,
*:before,
*:after {
  box-sizing: inherit;
}


::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: var(--md-surfaceVariant);
}

::-webkit-scrollbar-thumb {
  background-color: var(--md-outline);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background-color: var(--md-onSurfaceVariant);
}

/* 响应式修复 */
img,
svg,
video,
canvas,
audio,
iframe,
embed,
object {
  display: block;
  max-width: 100%;
}

table {
  width: 100%;
  table-layout: fixed;
  overflow-wrap: break-word;
}

pre,
code {
  white-space: pre-wrap;
  word-wrap: break-word;
}

input,
select,
textarea {
  max-width: 100%;
  box-sizing: border-box;
}

/* 添加Material Symbols图标配置 */
.material-symbols-rounded {
  font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24;
}

/* 移除 MDI 相关样式 */
/* .mdi {
  font-size: 24px;
} */

/* 禁用状态的图标样式 */
button:disabled .material-symbols-rounded,
.icon-button:disabled .material-symbols-rounded,
.md-button:disabled .material-symbols-rounded {
  opacity: 0.5;
  color: var(--md-outline);
}

/* 添加到现有CSS文件末尾 */

/* 中文文本优化 */
[lang="zh"] {
  /* 中文字体通常需要更大的行高 */
  line-height: 1.6;
  /* 减小字间距，中文不需要太大的字间距 */
  letter-spacing: -0.01em;
}

/* 标题文本中文优化 */
h1, h2, h3, h4, h5, h6 {
  font-family: var(--md-sys-typescale-font-family-brand);
  /* 中文标题字重通常比英文轻一些更美观 */
  font-weight: var(--md-sys-typescale-weight-medium);
  /* 调整行高使标题更紧凑 */
  line-height: 1.3;
}

/* 正文文本中文优化 */
p, li, td, th {
  /* 确保正文文本有足够的行高以提高可读性 */
  line-height: 1.6;
}

/* 按钮和交互元素中文优化 */
button, .md-button, .nav-item {
  font-family: var(--md-sys-typescale-font-family-brand);
  /* 中文按钮文本通常需要更小的字间距 */
  letter-spacing: 0;
}

/* 修改滚动条样式，使其在移动端隐藏 */
@media (max-width: 768px) {
  ::-webkit-scrollbar {
    width: 0;
    height: 0;
    display: none;
  }
  
  * {
    -ms-overflow-style: none; /* IE 和 Edge */
    scrollbar-width: none; /* Firefox */
  }
}
