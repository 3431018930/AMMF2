/**
 * 基础样式和变量定义
 * 包含颜色变量、排版和基础元素样式
 */

/* 基础变量 */
:root {
  /* 卡片和元素圆角 */
  --card-border-radius: 16px;  /* 调整为更大的圆角 */
  --button-border-radius: 20px;
  
  /* 阴影 */
  --md-sys-elevation-level1: 0 1px 2px rgba(0, 0, 0, 0.3), 0 1px 3px 1px rgba(0, 0, 0, 0.15);
  --md-sys-elevation-level2: 0 1px 2px rgba(0, 0, 0, 0.3), 0 2px 6px 2px rgba(0, 0, 0, 0.15);
  --md-sys-elevation-level3: 0 4px 8px 3px rgba(0, 0, 0, 0.15), 0 1px 3px rgba(0, 0, 0, 0.3);
  
  /* 状态层不透明度 */
  --md-sys-state-hover-opacity: 0.08;
  --md-sys-state-focus-opacity: 0.12;
  --md-sys-state-pressed-opacity: 0.12;
  --md-sys-state-dragged-opacity: 0.16;
  
  /* 字体大小 */
  --md-sys-typescale-display-large-size: 57px; /* 添加 */
  --md-sys-typescale-display-medium-size: 45px; /* 添加 */
  --md-sys-typescale-display-small-size: 36px; /* 添加 */
  --md-sys-typescale-headline-large-size: 32px; /* 添加 */
  --md-sys-typescale-headline-medium-size: 28px; /* 添加 */
  --md-sys-typescale-headline-small-size: 24px; /* 添加 */
  --md-sys-typescale-title-large-size: 22px; /* 添加 */
  --md-sys-typescale-title-medium-size: 16px; /* 添加 */
  --md-sys-typescale-title-small-size: 14px; /* 添加 */
  --md-sys-typescale-body-large-size: 16px;
  --md-sys-typescale-body-medium-size: 14px;
  --md-sys-typescale-body-small-size: 12px;
  --md-sys-typescale-label-large-size: 14px;
  --md-sys-typescale-label-medium-size: 12px;
  --md-sys-typescale-label-small-size: 11px;
  
  /* 字体粗细 */
  --md-sys-typescale-weight-regular: 400;
  --md-sys-typescale-weight-medium: 500;
  --md-sys-typescale-weight-bold: 700;
  
  /* 形状 - 添加 */
  --md-sys-shape-corner-extra-small: 4px;
  --md-sys-shape-corner-small: 8px;
  --md-sys-shape-corner-medium: 12px;
  --md-sys-shape-corner-large: 16px;
  --md-sys-shape-corner-extra-large: 28px;
  
  /* 表面色级别 */
  --md-surface-1: rgba(var(--md-primary-rgb), 0.05);
  --md-surface-2: rgba(var(--md-primary-rgb), 0.08);
  --md-surface-3: rgba(var(--md-primary-rgb), 0.11);
  --md-surface-4: rgba(var(--md-primary-rgb), 0.12); /* 添加 */
  --md-surface-5: rgba(var(--md-primary-rgb), 0.14); /* 添加 */
}

/* 浅色主题 */
.light-theme {
  /* 主色 - 更改为紫色系 */
  --md-primary: #6750A4;
  --md-primary-rgb: 103, 80, 164;
  --md-onPrimary: #ffffff;
  --md-primaryContainer: #E9DDFF;
  --md-onPrimaryContainer: #22005D;
  
  /* 次要色 - 调整为配合紫色主题 */
  --md-secondary: #625B71;
  --md-onSecondary: #ffffff;
  --md-secondaryContainer: #E8DEF8;
  --md-onSecondaryContainer: #1E192B;
  
  /* 错误色保持不变 */
  --md-error: #ba1a1a;
  --md-error-rgb: 186, 26, 26;
  --md-onError: #ffffff;
  --md-errorContainer: #ffdad6;
  --md-onErrorContainer: #410002;
  
  /* 背景色微调 */
  --md-background: #FFFBFF;
  --md-background-rgb: 255, 251, 255;
  --md-onBackground: #1C1B1E;
  
  /* 表面色 */
  --md-surface: #FFFBFF;
  --md-onSurface: #1C1B1E;
  --md-onSurface-rgb: 28, 27, 30;
  --md-surfaceVariant: #E7E0EB;
  --md-onSurfaceVariant: #49454E;
  
  /* 轮廓色 */
  --md-outline: #79747E;
  --md-outlineVariant: #CAC4CF;
  
  /* 反色 */
  --md-inverseSurface: #313033;
  --md-inverseOnSurface: #F4EFF4;
  
  /* 涟漪颜色 */
  --md-ripple-color: #6750A4;
  
  /* 卡片背景 */
  --card-background: #ffffff;
}

/* 深色主题优化 */
.dark-theme {
  /* 主色 - 更改为紫色系 */
  --md-primary: #D0BCFF;
  --md-primary-rgb: 208, 188, 255;
  --md-onPrimary: #381E72;
  --md-primaryContainer: #4F378B;
  --md-onPrimaryContainer: #E9DDFF;
  
  /* 次要色 - 调整为配合紫色主题 */
  --md-secondary: #CCC2DC;
  --md-onSecondary: #332D41;
  --md-secondaryContainer: #4A4458;
  --md-onSecondaryContainer: #E8DEF8;
  
  /* 错误色保持不变 */
  --md-error: #ffb4ab;
  --md-error-rgb: 255, 180, 171;
  --md-onError: #690005;
  --md-errorContainer: #93000a;
  --md-onErrorContainer: #ffdad6;
  
  /* 背景色微调 */
  --md-background: #1C1B1E;
  --md-background-rgb: 28, 27, 30;
  --md-onBackground: #E6E1E6;
  
  /* 表面色 */
  --md-surface: #1C1B1E;
  --md-onSurface: #E6E1E6;
  --md-onSurface-rgb: 230, 225, 230;
  --md-surfaceVariant: #49454E;
  --md-onSurfaceVariant: #CAC4CF;
  
  /* 轮廓色 */
  --md-outline: #948F99;
  --md-outlineVariant: #49454E;
  
  /* 反色 */
  --md-inverseSurface: #E6E1E6;
  --md-inverseOnSurface: #313033;
  
  /* 涟漪颜色 */
  --md-ripple-color: #D0BCFF;
  
  /* 卡片背景 */
  --card-background: #2D2A30;
}

/* 基础元素样式 */
body {
  font-family: 'Roboto', 'Noto Sans SC', sans-serif;
  margin: 0;
  padding: 0;
  background-color: var(--md-background);
  color: var(--md-onBackground);
  min-height: 100vh;
  overflow-y: auto;
  overflow-x: hidden;
  overscroll-behavior: none;
  width: 100%;
  box-sizing: border-box;
}

*, *:before, *:after {
  box-sizing: inherit;
}

/* 滚动条样式 */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: var(--md-surfaceVariant);
}

::-webkit-scrollbar-thumb {
  background-color: var(--md-outline);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background-color: var(--md-onSurfaceVariant);
}

/* 响应式修复 */
img, svg, video, canvas, audio, iframe, embed, object {
  display: block;
  max-width: 100%;
}

table {
  width: 100%;
  table-layout: fixed;
  overflow-wrap: break-word;
}

pre, code {
  white-space: pre-wrap;
  word-wrap: break-word;
}

input, select, textarea {
  max-width: 100%;
  box-sizing: border-box;
}

/* 添加Material Symbols图标配置 */
.material-symbols-rounded {
  font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24;
}

/* 禁用状态的图标样式 */
button:disabled .material-symbols-rounded,
.icon-button:disabled .material-symbols-rounded,
.md-button:disabled .material-symbols-rounded {
  opacity: 0.5;
  color: var(--md-outline);
}